"use strict";(self.webpackChunkcloudmydc_docs=self.webpackChunkcloudmydc_docs||[]).push([[1466],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>f});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),p=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(l.Provider,{value:t},e.children)},m="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),m=p(n),d=r,f=m["".concat(l,".").concat(d)]||m[d]||u[d]||o;return n?a.createElement(f,i(i({ref:t},c),{},{components:n})):a.createElement(f,i({ref:t},c))}));function f(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[m]="string"==typeof e?e:r,i[1]=s;for(var p=2;p<o;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},60791:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>p});var a=n(87462),r=(n(67294),n(3905));const o={sidebar_position:7},i=void 0,s={unversionedId:"Wordpress as a Service/WordPress PHP Optimization",id:"Wordpress as a Service/WordPress PHP Optimization",title:"WordPress PHP Optimization",description:"WordPress PHP Optimization",source:"@site/docs/Wordpress as a Service/WordPress PHP Optimization.md",sourceDirName:"Wordpress as a Service",slug:"/Wordpress as a Service/WordPress PHP Optimization",permalink:"/docs/Wordpress as a Service/WordPress PHP Optimization",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Wordpress as a Service/WordPress PHP Optimization.md",tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7},sidebar:"tutorialSidebar",previous:{title:"WordPress Security",permalink:"/docs/Wordpress as a Service/WordPress Security"},next:{title:"Elastic VPS",permalink:"/docs/category/elastic-vps"}},l={},p=[{value:"WordPress PHP Optimization",id:"wordpress-php-optimization",level:2},{value:"PHP Extensions",id:"php-extensions",level:2}],c={toc:p},m="wrapper";function u(e){let{components:t,...o}=e;return(0,r.kt)(m,(0,a.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"wordpress-php-optimization"},"WordPress PHP Optimization"),(0,r.kt)("p",null,"PHP-based application servers have multiple functions that allow you to fine-tune a project and achieve maximum performance and security. We recommend configuring several standard PHP functions to protect your server from harm. Of course, these are just basic tools that can complement the overall protection of your system. So, let\u2019s see how to perform some initial configurations to increase the security of your PHP environments."),(0,r.kt)("p",null,"The main PHP configuration file, named ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"php.ini")),", contains a number of default settings, which you can customize or even add new ones depending on your needs. The file is located in the ",(0,r.kt)("strong",{parentName:"p"},"etc")," directory of your PHP application server. It can be accessed and edited via the ",(0,r.kt)("a",{parentName:"p",href:"https://cloudmydc.com/"},"embedded file manager")," directly in the dashboard. You can find it among the main configuration files in the Favorites tab."),(0,r.kt)("div",{style:{display:"flex",justifyContent:"center",margin:"0 0 1rem 0"}},(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Locale Dropdown",src:n(66794).Z,width:"1222",height:"421"}))),(0,r.kt)("admonition",{title:"Note",type:"danger"},(0,r.kt)("p",{parentName:"admonition"},"All directives and values in this guide are just recommendations. Before making any changes, refer to the official ",(0,r.kt)("a",{parentName:"p",href:"https://cloudmydc.com/"},"PHP documentation")," for additional information and ensure that the new value will benefit your particular project.")),(0,r.kt)("p",null,"Follow the instructions below to analyze your configurations and apply the necessary changes."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Add the following string to disable the ",(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("em",{parentName:"strong"},"insecure functions")),":")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"disable_functions = phpinfo, system, mail, exec\n")),(0,r.kt)("p",null,"Additional security can be obtained by disabling the following functions:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"disable_functions = exec,passthru,shell_exec,system,proc_open,popen,curl_exec,curl_multi_exec,parse_ini_file,show_source\n")),(0,r.kt)("div",{style:{display:"flex",justifyContent:"center",margin:"0 0 1rem 0"}},(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Locale Dropdown",src:n(89476).Z,width:"1222",height:"254"}))),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"Amount of the ",(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("em",{parentName:"strong"},"allowed resources"))," (if acceptable for your application):")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"max_execution_time = 30")," - maximum script execution time (in seconds)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"max_input_time = 60")," - maximum time for request data parsing by each script"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"upload_max_filesize = 2M")," - maximum size of uploaded file"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"memory_limit = 8M")," - maximum script memory amount (the default value is 128M, but it is acceptable to set the lower one if it doesn\u2019t decrease your application performance)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"post_max_size = 8M")," - maximum POST data size acceptable for PHP")),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"You can ",(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("em",{parentName:"strong"},"restrict functions"))," unnecessary for your application:")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"file_uploads = Off")," - disallow HTTP file uploads"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"display_errors = Off")," - disallow displaying the PHP error messages for the end-users"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"safe",(0,r.kt)("em",{parentName:"strong"},"mode_allowed_env_vars = PHP"))," - limit the external access to your PHP environment"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"expose_php = Off")," - restrict the sending back of PHP information"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"register_globals = Off")," - turn off the globals registration for input data"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"allow_url_fopen = Off")," - restrict remote files opening")),(0,r.kt)("ol",{start:4},(0,r.kt)("li",{parentName:"ol"},"If needed, ",(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("em",{parentName:"strong"},"enable functions"))," that give additional information about the security state:")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"cgi.force_redirect = 0")," - ensure appropriateness of PHP redirecting"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"log_errors = On")," - enable all possible errors logging")),(0,r.kt)("ol",{start:5},(0,r.kt)("li",{parentName:"ol"},"Switch on the available ",(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("em",{parentName:"strong"},"safe modes")),":")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"safe_mode = On")," - enable safe mode"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"sql.safe_mode = On")," - enable SQL safe mode")),(0,r.kt)("p",null,"Once again, while specifying the above-mentioned settings, you should consider the requirements of your application. To apply the changes you\u2019ve made, ",(0,r.kt)("strong",{parentName:"p"},"Save")," the file and ",(0,r.kt)("strong",{parentName:"p"},"Restart")," your PHP application server."),(0,r.kt)("h2",{id:"php-extensions"},"PHP Extensions"),(0,r.kt)("p",null,"The ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"php.ini"))," file contains a list of PHP extensions. Some of these modules are enabled for the server by default, while others can be activated manually when necessary. See the list of ",(0,r.kt)("a",{parentName:"p",href:"https://cloudmydc.com/"},"PHP extensions")," available by default at the linked doc."),(0,r.kt)("p",null,"If you wish to have an extension loaded automatically, use the following syntax:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"extension={moduleName}\n")),(0,r.kt)("p",null,"For example, ",(0,r.kt)("em",{parentName:"p"},"\u201cextension=mysqli\u201d"),"."),(0,r.kt)("admonition",{title:"Tip",type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"You can provide custom extensions by uploading them into the default ",(0,r.kt)("strong",{parentName:"p"},"modules")," directory (",(0,r.kt)("strong",{parentName:"p"},"/usr/local/lsws/lsphp/lib64/php/modules"),") and activating as usual or by specifying an absolute path to the library file:"),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"extension=/path/to/extension/mysqli.so\n"))),(0,r.kt)("p",null,"Also, you can configure extensions by adjusting the predefined directives in the corresponding sections of the ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"php.ini"))," file (or by adding your own ones). In order to apply the changes, you need to ",(0,r.kt)("strong",{parentName:"p"},"Save")," the file and ",(0,r.kt)("strong",{parentName:"p"},"Restart")," your PHP application server node(s)."))}u.isMDXComponent=!0},66794:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/01-wordpress-phpini-configuration-8b8ece75fba1f5fea51a055b7d10d700.png"},89476:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/02-wordpress-phpini-disable-functions-f99c209b8f31744a6b37f79762182735.png"}}]);