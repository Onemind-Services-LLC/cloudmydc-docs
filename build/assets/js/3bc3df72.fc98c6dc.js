"use strict";(self.webpackChunkcloudmydc_docs=self.webpackChunkcloudmydc_docs||[]).push([[5693],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>g});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=c(n),m=r,g=d["".concat(l,".").concat(m)]||d[m]||u[m]||o;return n?a.createElement(g,i(i({ref:t},p),{},{components:n})):a.createElement(g,i({ref:t},p))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[d]="string"==typeof e?e:r,i[1]=s;for(var c=2;c<o;c++)i[c]=n[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},5231:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>c});var a=n(87462),r=(n(67294),n(3905));const o={sidebar_position:2},i=void 0,s={unversionedId:"Load Balancers/NGINX/TCP Load Balancing",id:"Load Balancers/NGINX/TCP Load Balancing",title:"TCP Load Balancing",description:"TCP Load Balancing",source:"@site/docs/Load Balancers/NGINX/TCP Load Balancing.md",sourceDirName:"Load Balancers/NGINX",slug:"/Load Balancers/NGINX/TCP Load Balancing",permalink:"/docs/Load Balancers/NGINX/TCP Load Balancing",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Load Balancers/NGINX/TCP Load Balancing.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"NGINX Balancer",permalink:"/docs/Load Balancers/NGINX/NGINX Balancer"},next:{title:"NGINX Balancer Configuration",permalink:"/docs/Load Balancers/NGINX/NGINX Balancer Configuration"}},l={},c=[{value:"TCP Load Balancing",id:"tcp-load-balancing",level:2}],p={toc:c},d="wrapper";function u(e){let{components:t,...o}=e;return(0,r.kt)(d,(0,a.Z)({},p,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"tcp-load-balancing"},"TCP Load Balancing"),(0,r.kt)("p",null,"Load balancing ensures high system availability through the distribution of workload across multiple components. Using multiple components with load balancing, instead of a single component, may increase reliability through redundancy. The platform uses NGINX for two types of load balancing: ",(0,r.kt)("strong",{parentName:"p"},"TCP")," and ",(0,r.kt)("strong",{parentName:"p"},"HTTP"),"."),(0,r.kt)("p",null,"Platform clients can use ",(0,r.kt)("strong",{parentName:"p"},"TCP")," for balancing requests to databases, mail servers and other distributable applications with network support. Also TCP can be used instead of HTTP if faster balancing is needed. In this case you just need to note that this fastness is achieved through omitting the process of handling requests."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"TCP load balancing")," component receives a connection request from a client application through a network socket. This component decides which node in the environment receives the request. For this requests distribution, the platform uses Round Robin Algorithm."),(0,r.kt)("p",null,"When the connection is established, requests from the client application continue to go through the same connection to the chosen node. The application cannot determine which instance is selected."),(0,r.kt)("p",null,"The existing connection can be lost only if a problem occurs, such as a temporary network failure or something like that. The next time a request is received, a new connection is created. This connection can go to any instance in the environment."),(0,r.kt)("p",null,"To get ",(0,r.kt)("strong",{parentName:"p"},"TCP balancing")," at your environment follow the instruction:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Create environment with two or more application servers (for example, ",(0,r.kt)("strong",{parentName:"li"},"Tomcat"),"). In this case the ",(0,r.kt)("strong",{parentName:"li"},"NGINX")," will be added automatically. Note that you need to switch on ",(0,r.kt)("strong",{parentName:"li"},"Public IP")," for your ",(0,r.kt)("strong",{parentName:"li"},"NGINX")," node.")),(0,r.kt)("div",{style:{display:"flex",justifyContent:"center",margin:"0 0 1rem 0"}},(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Locale Dropdown",src:n(85505).Z,width:"939",height:"535"}))),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"Click ",(0,r.kt)("strong",{parentName:"li"},"Config")," for NGINX in your environment.")),(0,r.kt)("div",{style:{display:"flex",justifyContent:"center",margin:"0 0 1rem 0"}},(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Locale Dropdown",src:n(60460).Z,width:"803",height:"142"}))),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"In the opened tab navigate to ",(0,r.kt)("strong",{parentName:"li"},"tcpmaps > mappings.xml")," and specify ",(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("em",{parentName:"strong"},"frontend"))," and ",(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("em",{parentName:"strong"},"backend"))," ports. ",(0,r.kt)("strong",{parentName:"li"},"Save")," the changes.")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"Frontend"))," is a port to which a user is going to be connected.\n",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"Backend"))," is a port to which the request will be forwarded by the balancer."),(0,r.kt)("div",{style:{display:"flex",justifyContent:"center",margin:"0 0 1rem 0"}},(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Locale Dropdown",src:n(8076).Z,width:"1109",height:"221"}))),(0,r.kt)("ol",{start:4},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Restart")," NGINX node.")),(0,r.kt)("p",null,"That\u2019s all. Now your environment uses TCP balancing for your application servers."))}u.isMDXComponent=!0},85505:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/01-environment-wizard-9a7840e3b41c24f69664dc0b23c2c677.png"},60460:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/02-nginx-config-ff1c19d0465779a654a6c85551cb3359.png"},8076:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/03-nginx-tcp-mapping-aaa27812fd05195b946ef5a2230afa83.png"}}]);