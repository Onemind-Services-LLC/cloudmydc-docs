"use strict";(self.webpackChunkcloudmydc_docs=self.webpackChunkcloudmydc_docs||[]).push([[6107],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>u});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),s=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},p=function(e){var t=s(e.components);return n.createElement(l.Provider,{value:t},e.children)},m="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,p=c(e,["components","mdxType","originalType","parentName"]),m=s(a),h=r,u=m["".concat(l,".").concat(h)]||m[h]||d[h]||i;return a?n.createElement(u,o(o({ref:t},p),{},{components:a})):n.createElement(u,o({ref:t},p))}));function u(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=h;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c[m]="string"==typeof e?e:r,o[1]=c;for(var s=2;s<i;s++)o[s]=a[s];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}h.displayName="MDXCreateElement"},94067:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>c,toc:()=>s});var n=a(87462),r=(a(67294),a(3905));const i={sidebar_position:5},o=void 0,c={unversionedId:"Load Balancers/NGINX/Caching in NGINX Balancer",id:"Load Balancers/NGINX/Caching in NGINX Balancer",title:"Caching in NGINX Balancer",description:"Caching in NGINX Balancer",source:"@site/docs/Load Balancers/NGINX/Caching in NGINX Balancer.md",sourceDirName:"Load Balancers/NGINX",slug:"/Load Balancers/NGINX/Caching in NGINX Balancer",permalink:"/docs/Load Balancers/NGINX/Caching in NGINX Balancer",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Load Balancers/NGINX/Caching in NGINX Balancer.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Testing Load Balancing",permalink:"/docs/Load Balancers/NGINX/Testing Load Balancing"},next:{title:"App Security with NGINX Balancer",permalink:"/docs/Load Balancers/NGINX/App Security with NGINX Balancer"}},l={},s=[{value:"Caching in NGINX Balancer",id:"caching-in-nginx-balancer",level:2}],p={toc:s},m="wrapper";function d(e){let{components:t,...i}=e;return(0,r.kt)(m,(0,n.Z)({},p,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"caching-in-nginx-balancer"},"Caching in NGINX Balancer"),(0,r.kt)("p",null,"Caching in NGINX is the process of storing data in front of web servers. For example, the files a user automatically requests by looking at a web-page can be stored in your NGINX cache directory. When a user returns to a page he\u2019s recently looked at, the browser can get those files from the NGINX cache directory rather than the original server, saving time and traffic."),(0,r.kt)("p",null,"So caching improves performance while accessing to a resource in two ways:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"reduces the access time to the resource by copying it closer to the user."),(0,r.kt)("li",{parentName:"ul"},"increases the resource building speed by reducing the number of accesses. For example, instead of building the homepage of your blog at each request, you can store it in a cache.")),(0,r.kt)("p",null,"This instruction shows how to set up a ca\u0441he on the NGINX-balancer in the platform."),(0,r.kt)("p",null,"With NGINX-balancer you can use caching for reducing application servers load. To perform that just come through the next steps:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Log into the platform dashboard."),(0,r.kt)("li",{parentName:"ol"},"Click the ",(0,r.kt)("strong",{parentName:"li"},"Create Environment")," button.")),(0,r.kt)("div",{style:{display:"flex",justifyContent:"center",margin:"0 0 1rem 0"}},(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Locale Dropdown",src:a(76990).Z,width:"365",height:"121"}))),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"Create the environment with a few application servers and ",(0,r.kt)("strong",{parentName:"li"},"NGINX")," as a balancer, specify the cloudlet limits, type the name of the environment and click ",(0,r.kt)("strong",{parentName:"li"},"Create")," button.")),(0,r.kt)("div",{style:{display:"flex",justifyContent:"center",margin:"0 0 1rem 0"}},(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Locale Dropdown",src:a(58367).Z,width:"942",height:"535"}))),(0,r.kt)("p",null,"In a minute your environment will be created and appears in the environment list."),(0,r.kt)("ol",{start:4},(0,r.kt)("li",{parentName:"ol"},"For setting up the cache click ",(0,r.kt)("strong",{parentName:"li"},"Config")," button for NGINX node in your environment and navigate to ",(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("em",{parentName:"strong"},"conf.d > cache.conf")),".")),(0,r.kt)("div",{style:{display:"flex",justifyContent:"center",margin:"0 0 1rem 0"}},(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Locale Dropdown",src:a(44168).Z,width:"554",height:"204"}))),(0,r.kt)("ol",{start:5},(0,r.kt)("li",{parentName:"ol"},"For enabling cache uncomment lines as it is shown in the picture below.")),(0,r.kt)("div",{style:{display:"flex",justifyContent:"center",margin:"0 0 1rem 0"}},(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Locale Dropdown",src:a(53639).Z,width:"1050",height:"284"}))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"proxy_cache_path")," ",(0,r.kt)("em",{parentName:"p"},"/var/lib/nginx/cache ","[levels=levels]"," keys_zone=name:size"),"\nThis directive sets path and other parameters of a cache."),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"The ",(0,r.kt)("em",{parentName:"li"},"levels")," parameter defines hierarchy levels of a cache."),(0,r.kt)("li",{parentName:"ul"},"The ",(0,r.kt)("em",{parentName:"li"},"keys_zone")," parameter configure name and RAM size of the zone (for example jelastic:32m)."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"proxy_cache")," zone | ",(0,r.kt)("strong",{parentName:"p"},"off"),", where zone - identifier of the cache.\nThis directive defines a shared memory zone used for caching. The same zone can be used in several places. The off parameter disables caching inherited from the previous configuration level.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"proxy_temp_path")," ",(0,r.kt)("em",{parentName:"p"},"/var/lib/nginx/tmp [level1 [level2 ","[level3]","]]"),"\nThis defines a directory for storing temporary files with data received from proxied servers. Up to three-level subdirectory hierarchy can be used underneath the specified directory.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"proxy_cache_valid")," ",(0,r.kt)("em",{parentName:"p"},"{number}m"),"\nIt specify the time during which the NGINX should keep cash. For example 720m."))),(0,r.kt)("p",null,"To find info about other available directives follow the ",(0,r.kt)("a",{parentName:"p",href:"https://cloudmydc.com/"},"link"),"."),(0,r.kt)("admonition",{title:"Tip",type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"If it is necessary to clear the cache you can just use ",(0,r.kt)("strong",{parentName:"p"},"proxy_cache_valid")," directory with the 0m parameter value.")),(0,r.kt)("ol",{start:6},(0,r.kt)("li",{parentName:"ol"},"Save the changes and restart the node.")),(0,r.kt)("div",{style:{display:"flex",justifyContent:"center",margin:"0 0 1rem 0"}},(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Locale Dropdown",src:a(65968).Z,width:"555",height:"193"}))))}d.isMDXComponent=!0},76990:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/01-create-environment-52225315d2eed3ee542a3533fdab9dd9.png"},58367:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/02-environment-wizard-60e9896c8796e1dba1fa8f7538d8371a.png"},44168:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/03-nginx-balancer-config-949651c7f6f5031484ffe1939a1044e9.png"},53639:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/04-nginx-balancer-cache-conf-23eb7cd85b6811757940a84611c53e72.png"},65968:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/05-nginx-balancer-restart-node-5ca573a4049e6f2782d50f2b75e63eca.png"}}]);